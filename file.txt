#include<stdio.h>
#include<stdlib.h>
#include<string.h>

struct node
{
char url[100];
struct node *prev;
struct node *next;
}node;

struct node *head=NULL;
struct node *current=NULL;

void visitpage(char *url){
struct node* newnode = (struct node*)malloc(sizeof(struct node));
strcpy(newnode->url,url);
newnode->next=NULL;

if(head==NULL){
newnode->prev=NULL;
head=current=newnode;}
else{
newnode->prev=current;
current->next=newnode;
current=newnode;}
printf("Visited: %s\n",current->url);}

void back(){
if(current!=NULL && current->prev!=NULL){
current=current->prev;
printf("Moved back to: %s\n",current->url);}
else{
printf("No previous page!\n");}}

void forward(){
if(current!=NULL && current->next!=NULL){
current=current->next;
printf("Moved forward to: %s\n",current->url);}
else{
printf("No forwarded page!\n");}}

void display(){
if(current!=NULL){
printf("Current page is: %s\n",current->url);}
else{
printf("No page visited yet!\n");}}

void history(){
struct node *temp=current;
if(current==NULL){
printf("No page\n");}
while(temp->prev!=NULL){
temp=temp->prev;}
printf("History:\n");
while(temp!=NULL){
if(temp==current){
printf("[%s]",temp->url);}
else{
printf("%s",temp->url);}
if(temp->next!=NULL){
printf(" -> ");}
temp=temp->next;}
printf("\n");}

int main(){
int opt;
char url[100];
int m=1;
while(m==1){
printf("\n\n\n1. Visit New Page\n");
printf("2. Go Back\n");
printf("3. Go Forward\n");
printf("4. Current Page\n");
printf("5. Browsing History\n");
printf("6. Exit\n\n\n");
printf("Enter your choice:");
scanf("%d",&opt);

switch(opt){

case 1:
printf("Enter the URL:");
scanf("%s",url);
visitpage(url);
break;

case 2:
back();
break;

case 3:
forward();
break;

case 4:
display();
break;

case 5:
history();
break;

case 6:
printf("Exiting...\n");
break;

default:
printf("Invalid Choice my man!\n");

}}}
