--- Page 1 ---
EXPERIMENT 8
NETWORK CONNECTIVITY CHECK AND PORT SCANNING USING SHELL
SCRIPT

AIM
a) To write a script that pings a list of servers and logs the results.
b) To implement a script that checks whether a specific port is open on a remote server.

DESCRIPTION
In system administration, network diagnostics are essential for monitoring server availability and
detecting connectivity issues. This experiment includes:

e Automating the process of pinging multiple hosts and recording their status.

e Verifying open ports on a remote machine using shell scripting and networking tools.

Â® PART a) Script to Ping Multiple Servers
Script: ping_servers.sh
#!/bin/bash

# File containing list of server hostnames or IPs
SERVER_LIST="servers.txt"
LOG _FILE="ping results.log"

# Empty the log file
>"$LOG_ FILE"

# Read each line from server list and ping
while IFS= read -r server; do
if ping -c 1 -W 2 "$server" > /dev/null; then
echo "$(date): $server is reachable" >> "$LOG_FILE"
else
echo "$(date): $server is unreachable" >> "$LOG_FILE"
fi
done < "$SERVER_LIST"

echo "Ping results logged in $LOG_FILE"

Sample servers.txt File

8.8.8.8

google.com

192.168.1.1

invalid.server

Explanation
e ping -c | -W 2: Sends | ping with a 2-second timeout.
e >>"$LOG FILE": Appends the result to the log file.
e date: Records timestamp for each result.


--- Page 2 ---
@ PART b) Script to Check if a Port is Open
Script: check_port.sh
#!/bin/bash

# Check if IP and port are given
if [ $4 -ne 2 ]; then
echo "Usage: $0 <host> <port>"
exit 1
fi

HOST=$1
PORT=$2

# Use netcat to test the port
ne -zv "$HOST" "$PORT" &> /dev/null

if [ $? -eq 0 ]; then
echo "Port $PORT on $HOST is OPEN."
else
echo "Port $PORT on $HOST is CLOSED or FILTERED."
fi
Usage
/check_port.sh google.com 80
Explanation
e nc -zv: Zero-I/O mode (just check connection), verbose.
e $?: Checks return code of the last command (0 = success).

RESULT
Scripts were implemented to:
e Ping a list of servers and log their connectivity status.
e Check the availability of specific ports on remote servers.


